<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/hud - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/hud.html#var">Var Details</a> - <a href="datum/hud.html#proc">Proc Details</a></header><main><h1>hud <aside>/<a href="datum.html">datum</a>/<a href="datum/hud.html">hud</a></aside> <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L45"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 45"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/hud.html#var/always_visible_inventory">always_visible_inventory</a></th><td>Screen objects that never exit view.</td></tr><tr><th><a href="datum/hud.html#var/asset_refs_for_reuse">asset_refs_for_reuse</a></th><td>List of weakrefs to objects that we add to our screen that we don't expect to DO anything
They typically use * in their render target. They exist solely so we can reuse them,
and avoid needing to make changes to all idk 300 consumers if we want to change the appearance</td></tr><tr><th><a href="datum/hud.html#var/atmos_debug_overlays">atmos_debug_overlays</a></th><td>If this client is being shown atmos debug overlays or not</td></tr><tr><th><a href="datum/hud.html#var/current_plane_offset">current_plane_offset</a></th><td>Think of multiz as a stack of z levels. Each index in that stack has its own group of plane masters
This variable is the plane offset our mob/client is currently &quot;on&quot;
We use it to track what we should show/not show
Goes from 0 to the max (z level stack size - 1)</td></tr><tr><th><a href="datum/hud.html#var/master_groups">master_groups</a></th><td>Assoc list of key =&gt; &quot;plane master groups&quot;
This is normally just the main window, but it'll occasionally contain things like spyglasses windows</td></tr><tr><th><a href="datum/hud.html#var/open_containers">open_containers</a></th><td>storages (and its content) currently open by mob</td></tr><tr><th><a href="datum/hud.html#var/plane_master_controllers">plane_master_controllers</a></th><td>Assoc list of controller groups, associated with key string group name with value of the plane master controller ref</td></tr><tr><th><a href="datum/hud.html#var/screentip_color">screentip_color</a></th><td>The color to use for the screentips.
This is updated by the preference for cheaper reads than would be
had with a proc call, especially on one of the hottest procs in the
game (MouseEntered).</td></tr><tr><th><a href="datum/hud.html#var/screentip_images">screentip_images</a></th><td>Whether to use text or images for click hints.
Same behavior as <code>screentips_enabled</code>--very hot, updated when the preference is updated.</td></tr><tr><th><a href="datum/hud.html#var/screentip_text">screentip_text</a></th><td>UI for screentips that appear when you mouse over things</td></tr><tr><th><a href="datum/hud.html#var/screentips_enabled">screentips_enabled</a></th><td>Whether or not screentips are enabled.
This is updated by the preference for cheaper reads than would be
had with a proc call, especially on one of the hottest procs in the
game (MouseEntered).</td></tr><tr><th><a href="datum/hud.html#var/ui_style">ui_style</a></th><td>Subtypes can override this to force a specific UI style</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/hud.html#proc/build_action_groups">build_action_groups</a></th><td>Generates and fills new action groups with our mob's current actions</td></tr><tr><th><a href="datum/hud.html#proc/build_plane_groups">build_plane_groups</a></th><td>Creates the required plane masters to fill out new z layers (because each &quot;level&quot; of multiz gets its own plane master set)</td></tr><tr><th><a href="datum/hud.html#proc/generate_landings">generate_landings</a></th><td>Generates visual landings for all groups that the button is not a memeber of</td></tr><tr><th><a href="datum/hud.html#proc/get_action_buttons_icons">get_action_buttons_icons</a></th><td>This is a silly proc used in hud code code to determine what icon and icon state we should be using
for hud elements (such as action buttons) that don't have their own icon and icon state set.</td></tr><tr><th><a href="datum/hud.html#proc/get_plane_group">get_plane_group</a></th><td>Returns the corresponding plane group datum if one exists</td></tr><tr><th><a href="datum/hud.html#proc/get_plane_master">get_plane_master</a></th><td>Returns the plane master that matches the input plane from the passed in group</td></tr><tr><th><a href="datum/hud.html#proc/get_planes_from">get_planes_from</a></th><td>Returns all the planes belonging to the passed in group key</td></tr><tr><th><a href="datum/hud.html#proc/get_true_plane_masters">get_true_plane_masters</a></th><td>Returns a list of all plane masters that match the input true plane, drawn from the passed in group (ignores z layer offsets)</td></tr><tr><th><a href="datum/hud.html#proc/get_ui_alert_placement">get_ui_alert_placement</a></th><td>Gets the placement for the alert based on its index</td></tr><tr><th><a href="datum/hud.html#proc/hide_action">hide_action</a></th><td>Removes the passed in action from its current position on the screen</td></tr><tr><th><a href="datum/hud.html#proc/hide_landings">hide_landings</a></th><td>Clears all currently visible landings</td></tr><tr><th><a href="datum/hud.html#proc/show_hud">show_hud</a></th><td>Shows this hud's hud to some mob</td></tr><tr><th><a href="datum/hud.html#proc/update_locked_slots">update_locked_slots</a></th><td>Handles dimming inventory slots that a mob can't equip items to in their current state</td></tr><tr><th><a href="datum/hud.html#proc/view_audit_buttons">view_audit_buttons</a></th><td>Ensures all of our buttons are properly within the bounds of our client's view, moves them if they're not</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/always_visible_inventory"><aside class="declaration">var </aside>always_visible_inventory <aside>– /list</aside> <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L73"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 73"></a></h3><p>Screen objects that never exit view.</p><h3 id="var/asset_refs_for_reuse"><aside class="declaration">var </aside>asset_refs_for_reuse <aside>– /list</aside> <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L131"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 131"></a></h3><p>List of weakrefs to objects that we add to our screen that we don't expect to DO anything
They typically use * in their render target. They exist solely so we can reuse them,
and avoid needing to make changes to all idk 300 consumers if we want to change the appearance</p><h3 id="var/atmos_debug_overlays"><aside class="declaration">var </aside>atmos_debug_overlays <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L102"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 102"></a></h3><p>If this client is being shown atmos debug overlays or not</p><h3 id="var/current_plane_offset"><aside class="declaration">var </aside>current_plane_offset <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L88"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 88"></a></h3><p>Think of multiz as a stack of z levels. Each index in that stack has its own group of plane masters
This variable is the plane offset our mob/client is currently &quot;on&quot;
We use it to track what we should show/not show
Goes from 0 to the max (z level stack size - 1)</p><h3 id="var/master_groups"><aside class="declaration">var </aside>master_groups <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/plane_master_group.html">plane_master_group</a></aside> <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L80"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 80"></a></h3><p>Assoc list of key =&gt; &quot;plane master groups&quot;
This is normally just the main window, but it'll occasionally contain things like spyglasses windows</p><h3 id="var/open_containers"><aside class="declaration">var </aside>open_containers <aside>– /list</aside> <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L77"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 77"></a></h3><p>storages (and its content) currently open by mob</p><h3 id="var/plane_master_controllers"><aside class="declaration">var </aside>plane_master_controllers <aside>– /list/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/plane_master_controller.html">plane_master_controller</a></aside> <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L82"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 82"></a></h3><p>Assoc list of controller groups, associated with key string group name with value of the plane master controller ref</p><h3 id="var/screentip_color"><aside class="declaration">var </aside>screentip_color <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L108"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 108"></a></h3><p>The color to use for the screentips.
This is updated by the preference for cheaper reads than would be
had with a proc call, especially on one of the hottest procs in the
game (MouseEntered).</p><h3 id="var/screentip_images"><aside class="declaration">var </aside>screentip_images <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L100"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 100"></a></h3><p>Whether to use text or images for click hints.
Same behavior as <code>screentips_enabled</code>--very hot, updated when the preference is updated.</p><h3 id="var/screentip_text"><aside class="declaration">var </aside>screentip_text <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/screentip</aside> <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L91"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 91"></a></h3><p>UI for screentips that appear when you mouse over things</p><h3 id="var/screentips_enabled"><aside class="declaration">var </aside>screentips_enabled <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L97"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 97"></a></h3><p>Whether or not screentips are enabled.
This is updated by the preference for cheaper reads than would be
had with a proc call, especially on one of the hottest procs in the
game (MouseEntered).</p><h3 id="var/ui_style"><aside class="declaration">var </aside>ui_style <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L125"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 125"></a></h3><p>Subtypes can override this to force a specific UI style</p><h2 id="proc">Proc Details</h2><h3 id="proc/build_action_groups"><aside class="declaration">proc </aside>build_action_groups<aside>()  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L661"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 661"></a></aside></h3><p>Generates and fills new action groups with our mob's current actions</p><h3 id="proc/build_plane_groups"><aside class="declaration">proc </aside>build_plane_groups<aside>(starting_offset, ending_offset)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L305"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 305"></a></aside></h3><p>Creates the required plane masters to fill out new z layers (because each &quot;level&quot; of multiz gets its own plane master set)</p><h3 id="proc/generate_landings"><aside class="declaration">proc </aside>generate_landings<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/button)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L629"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 629"></a></aside></h3><p>Generates visual landings for all groups that the button is not a memeber of</p><h3 id="proc/get_action_buttons_icons"><aside class="declaration">proc </aside>get_action_buttons_icons<aside>()  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/action_button.dm#L184"><img src="git.png" width="16" height="16" title="code/_onclick/hud/action_button.dm 184"></a></aside></h3><p>This is a silly proc used in hud code code to determine what icon and icon state we should be using
for hud elements (such as action buttons) that don't have their own icon and icon state set.</p>
<p>It returns a list, which is pretty much just a struct of info</p><h3 id="proc/get_plane_group"><aside class="declaration">proc </aside>get_plane_group<aside>(key)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L329"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 329"></a></aside></h3><p>Returns the corresponding plane group datum if one exists</p><h3 id="proc/get_plane_master"><aside class="declaration">proc </aside>get_plane_master<aside>(plane, group_key)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L311"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 311"></a></aside></h3><p>Returns the plane master that matches the input plane from the passed in group</p><h3 id="proc/get_planes_from"><aside class="declaration">proc </aside>get_planes_from<aside>(group_key)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L324"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 324"></a></aside></h3><p>Returns all the planes belonging to the passed in group key</p><h3 id="proc/get_true_plane_masters"><aside class="declaration">proc </aside>get_true_plane_masters<aside>(true_plane, group_key)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L317"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 317"></a></aside></h3><p>Returns a list of all plane masters that match the input true plane, drawn from the passed in group (ignores z layer offsets)</p><h3 id="proc/get_ui_alert_placement"><aside class="declaration">proc </aside>get_ui_alert_placement<aside>(index)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/alert.dm#L1166"><img src="git.png" width="16" height="16" title="code/_onclick/hud/alert.dm 1166"></a></aside></h3><p>Gets the placement for the alert based on its index</p><h3 id="proc/hide_action"><aside class="declaration">proc </aside>hide_action<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/button)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L615"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 615"></a></aside></h3><p>Removes the passed in action from its current position on the screen</p><h3 id="proc/hide_landings"><aside class="declaration">proc </aside>hide_landings<aside>()  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L635"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 635"></a></aside></h3><p>Clears all currently visible landings</p><h3 id="proc/show_hud"><aside class="declaration">proc </aside>show_hud<aside>(version, /<a href="mob.html">mob</a>/viewmob)  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L352"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 352"></a></aside></h3><p>Shows this hud's hud to some mob</p>
<p>Arguments</p>
<ul>
<li>version - denotes which style should be displayed. blank or 0 means &quot;next version&quot;</li>
<li>viewmob - what mob to show the hud to. Can be this hud's mob, can be another mob, can be null (will use this hud's mob if so)</li>
</ul><h3 id="proc/update_locked_slots"><aside class="declaration">proc </aside>update_locked_slots<aside>()  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L564"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 564"></a></aside></h3><p>Handles dimming inventory slots that a mob can't equip items to in their current state</p><h3 id="proc/view_audit_buttons"><aside class="declaration">proc </aside>view_audit_buttons<aside>()  <a href="https://github.com/Bubberstation/Bubberstation/blob/6f9534245f6171fa0aa17ea887605397ec3e9719/code/_onclick/hud/hud.dm#L649"><img src="git.png" width="16" height="16" title="code/_onclick/hud/hud.dm 649"></a></aside></h3><p>Ensures all of our buttons are properly within the bounds of our client's view, moves them if they're not</p></main><footer>tgstation.dme <a href="https://github.com/Bubberstation/Bubberstation/tree/6f9534245f6171fa0aa17ea887605397ec3e9719">6f95342</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>